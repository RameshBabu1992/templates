!function(a){var h={cache:{},support:{},objects:{},init:function(e){return this.each(function(){a(this).unbind("click.lightcase").bind("click.lightcase",function(t){t.preventDefault(),a(this).lightcase("start",e)})})},start:function(t){h.origin=lightcase.origin=this,h.settings=lightcase.settings=a.extend(!0,{idPrefix:"lightcase-",classPrefix:"lightcase-",attrPrefix:"lc-",transition:"elastic",transitionIn:null,transitionOut:null,cssTransitions:!0,speedIn:250,speedOut:250,maxWidth:800,maxHeight:500,forceWidth:!1,forceHeight:!1,liveResize:!0,fullScreenModeForMobile:!0,mobileMatchExpression:/(iphone|ipod|ipad|android|blackberry|symbian)/,disableShrink:!1,shrinkFactor:.75,overlayOpacity:.9,slideshow:!1,timeout:5e3,swipe:!0,useKeys:!0,useCategories:!0,navigateEndless:!0,closeOnOverlayClick:!0,title:null,caption:null,showTitle:!0,showCaption:!0,showSequenceInfo:!0,inline:{width:"auto",height:"auto"},ajax:{width:"auto",height:"auto",type:"get",dataType:"html",data:{}},iframe:{width:800,height:500,frameborder:0},flash:{width:400,height:205,wmode:"transparent"},video:{width:400,height:225,poster:"",preload:"auto",controls:!0,autobuffer:!0,autoplay:!0,loop:!1},attr:"data-rel",href:null,type:null,typeMapping:{image:"jpg,jpeg,gif,png,bmp",flash:"swf",video:"mp4,mov,ogv,ogg,webm",iframe:"html,php",ajax:"json,txt",inline:"#"},errorMessage:function(){return'<p class="'+h.settings.classPrefix+'error">'+h.settings.labels.errorMessage+"</p>"},labels:{errorMessage:"Source could not be found...","sequenceInfo.of":" of ",close:"Close","navigator.prev":"Prev","navigator.next":"Next","navigator.play":"Play","navigator.pause":"Pause"},markup:function(){a("body").append(h.objects.overlay=a('<div id="'+h.settings.idPrefix+'overlay"></div>'),h.objects.loading=a('<div id="'+h.settings.idPrefix+'loading" class="'+h.settings.classPrefix+'icon-spin"></div>'),h.objects.case=a('<div id="'+h.settings.idPrefix+'case" aria-hidden="true" role="dialog"></div>')),h.objects.case.after(h.objects.nav=a('<div id="'+h.settings.idPrefix+'nav"></div>')),h.objects.nav.append(h.objects.close=a('<a href="#" class="'+h.settings.classPrefix+'icon-close"><span>'+h.settings.labels.close+"</span></a>"),h.objects.prev=a('<a href="#" class="'+h.settings.classPrefix+'icon-prev"><span>'+h.settings.labels["navigator.prev"]+"</span></a>").hide(),h.objects.next=a('<a href="#" class="'+h.settings.classPrefix+'icon-next"><span>'+h.settings.labels["navigator.next"]+"</span></a>").hide(),h.objects.play=a('<a href="#" class="'+h.settings.classPrefix+'icon-play"><span>'+h.settings.labels["navigator.play"]+"</span></a>").hide(),h.objects.pause=a('<a href="#" class="'+h.settings.classPrefix+'icon-pause"><span>'+h.settings.labels["navigator.pause"]+"</span></a>").hide()),h.objects.case.append(h.objects.content=a('<div id="'+h.settings.idPrefix+'content"></div>'),h.objects.info=a('<div id="'+h.settings.idPrefix+'info"></div>')),h.objects.content.append(h.objects.contentInner=a('<div class="'+h.settings.classPrefix+'contentInner"></div>')),h.objects.info.append(h.objects.sequenceInfo=a('<div id="'+h.settings.idPrefix+'sequenceInfo"></div>'),h.objects.title=a('<h4 id="'+h.settings.idPrefix+'title"></h4>'),h.objects.caption=a('<p id="'+h.settings.idPrefix+'caption"></p>'))},onInit:{},onStart:{},onFinish:{},onClose:{},onCleanup:{}},t),h._callHooks(h.settings.onInit),h.objectData=h._setObjectData(this),h._cacheScrollPosition(),h._watchScrollInteraction(),h._addElements(),h._open(),h.dimensions=h.getViewportDimensions()},get:function(t){return h.objects[t]},getObjectData:function(){return h.objectData},_setObjectData:function(t){t=a(t),t={title:h.settings.title||t.attr(h._prefixAttributeName("title"))||t.attr("title"),caption:h.settings.caption||t.attr(h._prefixAttributeName("caption"))||t.children("img").attr("alt"),url:h._determineUrl(),requestType:h.settings.ajax.type,requestData:h.settings.ajax.data,requestDataType:h.settings.ajax.dataType,rel:t.attr(h._determineAttributeSelector()),type:h.settings.type||h._verifyDataType(h._determineUrl()),isPartOfSequence:h._isPartOfSequence(t.attr(h.settings.attr),":"),isPartOfSequenceWithSlideshow:h._isPartOfSequence(t.attr(h.settings.attr),":slideshow"),currentIndex:a(h._determineAttributeSelector()).index(t),sequenceLength:a(h._determineAttributeSelector()).length};return t.sequenceInfo=t.currentIndex+1+h.settings.labels["sequenceInfo.of"]+t.sequenceLength,t.prevIndex=t.currentIndex-1,t.nextIndex=t.currentIndex+1,t},_prefixAttributeName:function(t){return"data-"+h.settings.attrPrefix+t},_determineLinkTarget:function(){return h.settings.href||a(h.origin).attr(h._prefixAttributeName("href"))||a(h.origin).attr("href")},_determineAttributeSelector:function(){var t,e=a(h.origin),i="";return void 0!==h.cache.selector?i=h.cache.selector:!0===h.settings.useCategories&&e.attr(h._prefixAttributeName("categories"))?(t=e.attr(h._prefixAttributeName("categories")).split(" "),a.each(t,function(t,e){0<t&&(i+=","),i+="["+h._prefixAttributeName("categories")+'~="'+e+'"]'})):i="["+h.settings.attr+'="'+e.attr(h.settings.attr)+'"]',h.cache.selector=i},_determineUrl:function(){var i,t=h._verifyDataUrl(h._determineLinkTarget()),s=0,n=0;return a.each(t,function(t,e){h._devicePixelRatio()>=e.density&&n<=e.density&&h._matchMedia()("screen and (min-width:"+e.width+"px)")&&s<=e.width&&(s=e.width,n=e.density,i=e.url)}),i},_normalizeUrl:function(t){var a=/^\d+$/;return t.split(",").map(function(t){var n={width:0,density:0};return t.trim().split(/\s+/).forEach(function(t,e){if(0===e)return n.url=t;var e=t.substring(0,t.length-1),t=t[t.length-1],i=parseInt(e,10),s=parseFloat(e);"w"===t&&a.test(e)?n.width=i:"h"===t&&a.test(e)?n.height=i:"x"!==t||isNaN(s)||(n.density=s)}),n})},_isPartOfSequence:function(t,e){var i=a("["+h.settings.attr+'="'+t+'"]');return new RegExp(e).test(t)&&1<i.length},isSlideshowEnabled:function(){return h.objectData.isPartOfSequence&&(!0===h.settings.slideshow||!0===h.objectData.isPartOfSequenceWithSlideshow)},_loadContent:function(){h.cache.originalObject&&h._restoreObject(),h._createObject()},_createObject:function(){var i;switch(h.objectData.type){case"image":(i=a(new Image)).attr({src:h.objectData.url,alt:h.objectData.title});break;case"inline":(i=a('<div class="'+h.settings.classPrefix+'inlineWrap"></div>')).html(h._cloneObject(a(h.objectData.url))),a.each(h.settings.inline,function(t,e){i.attr(h._prefixAttributeName(t),e)});break;case"ajax":i=a('<div class="'+h.settings.classPrefix+'inlineWrap"></div>'),a.each(h.settings.ajax,function(t,e){"data"!==t&&i.attr(h._prefixAttributeName(t),e)});break;case"flash":i=a('<embed src="'+h.objectData.url+'" type="application/x-shockwave-flash"></embed>'),a.each(h.settings.flash,function(t,e){i.attr(t,e)});break;case"video":(i=a("<video></video>")).attr("src",h.objectData.url),a.each(h.settings.video,function(t,e){i.attr(t,e)});break;default:(i=a("<iframe></iframe>")).attr({src:h.objectData.url}),a.each(h.settings.iframe,function(t,e){i.attr(t,e)})}h._addObject(i),h._loadObject(i)},_addObject:function(t){h.objects.contentInner.html(t),h._loading("start"),h._callHooks(h.settings.onStart),!0===h.settings.showSequenceInfo&&h.objectData.isPartOfSequence?(h.objects.sequenceInfo.html(h.objectData.sequenceInfo),h.objects.sequenceInfo.show()):(h.objects.sequenceInfo.empty(),h.objects.sequenceInfo.hide()),!0===h.settings.showTitle&&void 0!==h.objectData.title&&""!==h.objectData.title?(h.objects.title.html(h.objectData.title),h.objects.title.show()):(h.objects.title.empty(),h.objects.title.hide()),!0===h.settings.showCaption&&void 0!==h.objectData.caption&&""!==h.objectData.caption?(h.objects.caption.html(h.objectData.caption),h.objects.caption.show()):(h.objects.caption.empty(),h.objects.caption.hide())},_loadObject:function(s){switch(h.objectData.type){case"inline":a(h.objectData.url)?h._showContent(s):h.error();break;case"ajax":a.ajax(a.extend({},h.settings.ajax,{url:h.objectData.url,type:h.objectData.requestType,dataType:h.objectData.requestDataType,data:h.objectData.requestData,success:function(t,e,i){"json"===h.objectData.requestDataType?h.objectData.data=t:s.html(t),h._showContent(s)},error:function(t,e,i){h.error()}}));break;case"flash":h._showContent(s);break;case"video":"function"==typeof s.get(0).canPlayType||0===h.objects.case.find("video").length?h._showContent(s):h.error();break;default:h.objectData.url?(s.load(function(){h._showContent(s)}),s.error(function(){h.error()})):h.error()}},error:function(){h.objectData.type="error";var t=a('<div class="'+h.settings.classPrefix+'inlineWrap"></div>');t.html(h.settings.errorMessage),h.objects.contentInner.html(t),h._showContent(h.objects.contentInner)},_calculateDimensions:function(t){h._cleanupDimensions();var e={objectWidth:t.attr("width")?t.attr("width"):t.attr(h._prefixAttributeName("width")),objectHeight:t.attr("height")?t.attr("height"):t.attr(h._prefixAttributeName("height"))};if(!h.settings.disableShrink)switch(e.maxWidth=parseInt(h.dimensions.windowWidth*h.settings.shrinkFactor),e.maxHeight=parseInt(h.dimensions.windowHeight*h.settings.shrinkFactor),e.maxWidth>h.settings.maxWidth&&(e.maxWidth=h.settings.maxWidth),e.maxHeight>h.settings.maxHeight&&(e.maxHeight=h.settings.maxHeight),e.differenceWidthAsPercent=parseInt(100/e.maxWidth*e.objectWidth),e.differenceHeightAsPercent=parseInt(100/e.maxHeight*e.objectHeight),h.objectData.type){case"image":case"flash":case"video":100<e.differenceWidthAsPercent&&e.differenceHeightAsPercent<e.differenceWidthAsPercent&&(e.objectWidth=e.maxWidth,e.objectHeight=parseInt(e.objectHeight/e.differenceWidthAsPercent*100)),100<e.differenceHeightAsPercent&&e.differenceWidthAsPercent<e.differenceHeightAsPercent&&(e.objectWidth=parseInt(e.objectWidth/e.differenceHeightAsPercent*100),e.objectHeight=e.maxHeight),100<e.differenceHeightAsPercent&&e.differenceWidthAsPercent<e.differenceHeightAsPercent&&(e.objectWidth=parseInt(e.maxWidth/e.differenceHeightAsPercent*e.differenceWidthAsPercent),e.objectHeight=e.maxHeight);break;case"error":!isNaN(e.objectWidth)&&e.maxWidth<e.objectWidth&&(e.objectWidth=e.maxWidth);break;default:(isNaN(e.objectWidth)||e.maxWidth<e.objectWidth)&&!h.settings.forceWidth&&(e.objectWidth=e.maxWidth),(isNaN(e.objectHeight)&&"auto"!==e.objectHeight||e.maxHeight<e.objectHeight)&&!h.settings.forceHeight&&(e.objectHeight=e.maxHeight)}h.settings.forceWidth?e.maxWidth=e.objectWidth:t.attr(h._prefixAttributeName("max-width"))&&(e.maxWidth=t.attr(h._prefixAttributeName("max-width"))),h.settings.forceHeight?e.maxHeight=e.objectHeight:t.attr(h._prefixAttributeName("max-height"))&&(e.maxHeight=t.attr(h._prefixAttributeName("max-height"))),h._adjustDimensions(t,e)},_adjustDimensions:function(t,e){t.css({width:e.objectWidth,height:e.objectHeight,"max-width":e.maxWidth,"max-height":e.maxHeight}),h.objects.contentInner.css({width:t.outerWidth(),height:t.outerHeight(),"max-width":"100%"}),h.objects.case.css({width:h.objects.contentInner.outerWidth()}),h.objects.case.css({"margin-top":parseInt(-h.objects.case.outerHeight()/2),"margin-left":parseInt(-h.objects.case.outerWidth()/2)})},_loading:function(t){"start"===t?(h.objects.case.addClass(h.settings.classPrefix+"loading"),h.objects.loading.show()):"end"===t&&(h.objects.case.removeClass(h.settings.classPrefix+"loading"),h.objects.loading.hide())},getViewportDimensions:function(){return{windowWidth:a(window).innerWidth(),windowHeight:a(window).innerHeight()}},_verifyDataUrl:function(t){return!(!t||void 0===t||""===t)&&(-1<t.indexOf("#")&&(t="#"+(t=t.split("#"))[t.length-1]),h._normalizeUrl(t.toString()))},_verifyDataType:function(t){var e,i=h.settings.typeMapping;if(!t)return!1;for(e in i)if(i.hasOwnProperty(e))for(var s=i[e].split(","),n=0;n<s.length;n++){var a=s[n].toLowerCase(),o=new RegExp(".("+a+")$","i"),c=t.toLowerCase().split("?")[0].substr(-5);if(!0===o.test(c)||"inline"===e&&-1<t.indexOf(a))return e}return"iframe"},_addElements:function(){void 0!==h.objects.case&&a("#"+h.objects.case.attr("id")).length||h.settings.markup()},_showContent:function(t){switch(h.objects.case.attr(h._prefixAttributeName("type"),h.objectData.type),h.cache.object=t,h._calculateDimensions(t),h._callHooks(h.settings.onFinish),h.settings.transitionIn){case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollHorizontal":case"scrollVertical":h.transition.scroll(h.objects.case,"in",h.settings.speedIn),h.transition.fade(h.objects.contentInner,"in",h.settings.speedIn);break;case"elastic":h.objects.case.css("opacity")<1&&(h.transition.zoom(h.objects.case,"in",h.settings.speedIn),h.transition.fade(h.objects.contentInner,"in",h.settings.speedIn));case"fade":case"fadeInline":h.transition.fade(h.objects.case,"in",h.settings.speedIn),h.transition.fade(h.objects.contentInner,"in",h.settings.speedIn);break;default:h.transition.fade(h.objects.case,"in",0)}h._loading("end"),h.isBusy=!1},_processContent:function(){switch(h.isBusy=!0,h.settings.transitionOut){case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollVertical":case"scrollHorizontal":h.objects.case.is(":hidden")?(h.transition.fade(h.objects.case,"out",0,0,function(){h._loadContent()}),h.transition.fade(h.objects.contentInner,"out",0)):h.transition.scroll(h.objects.case,"out",h.settings.speedOut,function(){h._loadContent()});break;case"fade":h.objects.case.is(":hidden")?h.transition.fade(h.objects.case,"out",0,0,function(){h._loadContent()}):h.transition.fade(h.objects.case,"out",h.settings.speedOut,0,function(){h._loadContent()});break;case"fadeInline":case"elastic":h.objects.case.is(":hidden")?h.transition.fade(h.objects.case,"out",0,0,function(){h._loadContent()}):h.transition.fade(h.objects.contentInner,"out",h.settings.speedOut,0,function(){h._loadContent()});break;default:h.transition.fade(h.objects.case,"out",0,0,function(){h._loadContent()})}},_handleEvents:function(){h._unbindEvents(),h.objects.nav.children().not(h.objects.close).hide(),h.isSlideshowEnabled()&&(h.objects.nav.hasClass(h.settings.classPrefix+"paused")?h._stopTimeout():h._startTimeout()),h.settings.liveResize&&h._watchResizeInteraction(),h.objects.close.click(function(t){t.preventDefault(),h.close()}),!0===h.settings.closeOnOverlayClick&&h.objects.overlay.css("cursor","pointer").click(function(t){t.preventDefault(),h.close()}),!0===h.settings.useKeys&&h._addKeyEvents(),h.objectData.isPartOfSequence&&(h.objects.nav.attr(h._prefixAttributeName("ispartofsequence"),!0),h.objects.nav.data("items",h._setNavigation()),h.objects.prev.click(function(t){t.preventDefault(),!0!==h.settings.navigateEndless&&h.item.isFirst()||(h.objects.prev.unbind("click"),h.cache.action="prev",h.objects.nav.data("items").prev.click(),h.isSlideshowEnabled()&&h._stopTimeout())}),h.objects.next.click(function(t){t.preventDefault(),!0!==h.settings.navigateEndless&&h.item.isLast()||(h.objects.next.unbind("click"),h.cache.action="next",h.objects.nav.data("items").next.click(),h.isSlideshowEnabled()&&h._stopTimeout())}),h.isSlideshowEnabled()&&(h.objects.play.click(function(t){t.preventDefault(),h._startTimeout()}),h.objects.pause.click(function(t){t.preventDefault(),h._stopTimeout()})),!0===h.settings.swipe)&&(a.isPlainObject(a.event.special.swipeleft)&&h.objects.case.on("swipeleft",function(t){t.preventDefault(),h.objects.next.click(),h.isSlideshowEnabled()&&h._stopTimeout()}),a.isPlainObject(a.event.special.swiperight))&&h.objects.case.on("swiperight",function(t){t.preventDefault(),h.objects.prev.click(),h.isSlideshowEnabled()&&h._stopTimeout()})},_addKeyEvents:function(){a(document).bind("keyup.lightcase",function(t){if(!h.isBusy)switch(t.keyCode){case 27:h.objects.close.click();break;case 37:h.objectData.isPartOfSequence&&h.objects.prev.click();break;case 39:h.objectData.isPartOfSequence&&h.objects.next.click()}})},_startTimeout:function(){h.objects.play.hide(),h.objects.pause.show(),h.cache.action="next",h.objects.nav.removeClass(h.settings.classPrefix+"paused"),h.timeout=setTimeout(function(){h.objects.nav.data("items").next.click()},h.settings.timeout)},_stopTimeout:function(){h.objects.play.show(),h.objects.pause.hide(),h.objects.nav.addClass(h.settings.classPrefix+"paused"),clearTimeout(h.timeout)},_setNavigation:function(){var t=a(h.cache.selector||h.settings.attr),e=h.objectData.sequenceLength-1,i={prev:t.eq(h.objectData.prevIndex),next:t.eq(h.objectData.nextIndex)};return 0<h.objectData.currentIndex?h.objects.prev.show():i.prevItem=t.eq(e),h.objectData.nextIndex<=e?h.objects.next.show():i.next=t.eq(0),!0===h.settings.navigateEndless&&(h.objects.prev.show(),h.objects.next.show()),i},item:{isFirst:function(){return 0===h.objectData.currentIndex},isLast:function(){return h.objectData.currentIndex===h.objectData.sequenceLength-1}},_cloneObject:function(t){var e=t.clone(),i=t.attr("id");return t.is(":hidden")?(h._cacheObjectData(t),t.attr("id",h.settings.idPrefix+"temp-"+i).empty()):e.removeAttr("id"),e.show()},isMobileDevice:function(){return!!navigator.userAgent.toLowerCase().match(h.settings.mobileMatchExpression)},isTransitionSupported:function(){var t,e=a("body").get(0),i=!1,s={transition:"",WebkitTransition:"-webkit-",MozTransition:"-moz-",OTransition:"-o-",MsTransition:"-ms-"};for(t in s)s.hasOwnProperty(t)&&t in e.style&&(h.support.transition=s[t],i=!0);return i},transition:{fade:function(t,e,i,s,n){var a="in"===e,e={},o=t.css("opacity"),c={},s=s||(a?1:0);!h.isOpen&&a||(e.opacity=o,c.opacity=s,t.css(e).show(),h.support.transitions?(c[h.support.transition+"transition"]=i+"ms ease",setTimeout(function(){t.css(c),setTimeout(function(){t.css(h.support.transition+"transition",""),!n||!h.isOpen&&a||n()},i)},15)):(t.stop(),t.animate(c,i,n)))},scroll:function(t,e,i,s){var n="in"===e,e=n?h.settings.transitionIn:h.settings.transitionOut,a="left",o={},c=n?0:1,r=n?"-50%":"50%",l={},d=n?1:0,u=n?"50%":"-50%";if(h.isOpen||!n){switch(e){case"scrollTop":a="top";break;case"scrollRight":r=n?"150%":"50%",u=n?"50%":"150%";break;case"scrollBottom":a="top",r=n?"150%":"50%",u=n?"50%":"150%";break;case"scrollHorizontal":r=n?"150%":"50%",u=n?"50%":"-50%";break;case"scrollVertical":a="top",r=n?"-50%":"50%",u=n?"50%":"150%"}if("prev"===h.cache.action)switch(e){case"scrollHorizontal":r=n?"-50%":"50%",u=n?"50%":"150%";break;case"scrollVertical":r=n?"150%":"50%",u=n?"50%":"-50%"}o.opacity=c,o[a]=r,l.opacity=d,l[a]=u,t.css(o).show(),h.support.transitions?(l[h.support.transition+"transition"]=i+"ms ease",setTimeout(function(){t.css(l),setTimeout(function(){t.css(h.support.transition+"transition",""),!s||!h.isOpen&&n||s()},i)},15)):(t.stop(),t.animate(l,i,s))}},zoom:function(t,e,i,s){var n="in"===e,e={},a=t.css("opacity"),o=n?"scale(0.75)":"scale(1)",c={},r=n?1:0,l=n?"scale(1)":"scale(0.75)";!h.isOpen&&n||(e.opacity=a,e[h.support.transition+"transform"]=o,c.opacity=r,t.css(e).show(),h.support.transitions?(c[h.support.transition+"transform"]=l,c[h.support.transition+"transition"]=i+"ms ease",setTimeout(function(){t.css(c),setTimeout(function(){t.css(h.support.transition+"transform",""),t.css(h.support.transition+"transition",""),!s||!h.isOpen&&n||s()},i)},15)):(t.stop(),t.animate(c,i,s)))}},_callHooks:function(t){"object"==typeof t&&a.each(t,function(t,e){"function"==typeof e&&e.call(h.origin)})},_cacheObjectData:function(t){a.data(t,"cache",{id:t.attr("id"),content:t.html()}),h.cache.originalObject=t},_restoreObject:function(){var t=a('[id^="'+h.settings.idPrefix+'temp-"]');t.attr("id",a.data(h.cache.originalObject,"cache").id),t.html(a.data(h.cache.originalObject,"cache").content)},resize:function(){h.isOpen&&(h.isSlideshowEnabled()&&h._stopTimeout(),h.dimensions=h.getViewportDimensions(),h._calculateDimensions(h.cache.object))},_cacheScrollPosition:function(){var t=a(window),e=a(document),i={top:t.scrollTop(),left:t.scrollLeft()};h.cache.scrollPosition=h.cache.scrollPosition||{},e.width()>t.width()&&(h.cache.scrollPosition.left=i.left),e.height()>t.height()&&(h.cache.scrollPosition.top=i.top)},_watchResizeInteraction:function(){a(window).resize(h.resize)},_unwatchResizeInteraction:function(){a(window).off("resize",h.resize)},_watchScrollInteraction:function(){a(window).scroll(h._cacheScrollPosition)},_unwatchScrollInteraction:function(){a(window).off("scroll",h._cacheScrollPosition)},_restoreScrollPosition:function(){a(window).scrollTop(parseInt(h.cache.scrollPosition.top)).scrollLeft(parseInt(h.cache.scrollPosition.left)).resize()},_switchToFullScreenMode:function(){h.settings.shrinkFactor=1,h.settings.overlayOpacity=1,a("html").addClass(h.settings.classPrefix+"fullScreenMode")},_open:function(){switch(h.isOpen=!0,h.support.transitions=!!h.settings.cssTransitions&&h.isTransitionSupported(),h.support.mobileDevice=h.isMobileDevice(),h.support.mobileDevice&&(a("html").addClass(h.settings.classPrefix+"isMobileDevice"),h.settings.fullScreenModeForMobile)&&h._switchToFullScreenMode(),h.settings.transitionIn||(h.settings.transitionIn=h.settings.transition),h.settings.transitionOut||(h.settings.transitionOut=h.settings.transition),h.settings.transitionIn){case"fade":case"fadeInline":case"elastic":case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollVertical":case"scrollHorizontal":h.objects.case.is(":hidden")&&(h.objects.close.css("opacity",0),h.objects.overlay.css("opacity",0),h.objects.case.css("opacity",0),h.objects.contentInner.css("opacity",0)),h.transition.fade(h.objects.overlay,"in",h.settings.speedIn,h.settings.overlayOpacity,function(){h.transition.fade(h.objects.close,"in",h.settings.speedIn),h._handleEvents(),h._processContent()});break;default:h.transition.fade(h.objects.overlay,"in",0,h.settings.overlayOpacity,function(){h.transition.fade(h.objects.close,"in",0),h._handleEvents(),h._processContent()})}a("html").addClass(h.settings.classPrefix+"open"),h.objects.case.attr("aria-hidden","false")},close:function(){switch(h.isOpen=!1,h.isSlideshowEnabled()&&(h._stopTimeout(),h.objects.nav.removeClass(h.settings.classPrefix+"paused")),h.objects.loading.hide(),h._unbindEvents(),h._unwatchResizeInteraction(),h._unwatchScrollInteraction(),a("html").removeClass(h.settings.classPrefix+"open"),h.objects.case.attr("aria-hidden","true"),h.objects.nav.children().hide(),h._restoreScrollPosition(),h._callHooks(h.settings.onClose),h.settings.transitionOut){case"fade":case"fadeInline":case"scrollTop":case"scrollRight":case"scrollBottom":case"scrollLeft":case"scrollHorizontal":case"scrollVertical":h.transition.fade(h.objects.case,"out",h.settings.speedOut,0,function(){h.transition.fade(h.objects.overlay,"out",h.settings.speedOut,0,function(){h.cleanup()})});break;case"elastic":h.transition.zoom(h.objects.case,"out",h.settings.speedOut,function(){h.transition.fade(h.objects.overlay,"out",h.settings.speedOut,0,function(){h.cleanup()})});break;default:h.cleanup()}},_unbindEvents:function(){h.objects.overlay.unbind("click"),a(document).unbind("keyup.lightcase"),h.objects.case.unbind("swipeleft").unbind("swiperight"),h.objects.prev.unbind("click"),h.objects.next.unbind("click"),h.objects.play.unbind("click"),h.objects.pause.unbind("click"),h.objects.close.unbind("click")},_cleanupDimensions:function(){var t=h.objects.contentInner.css("opacity");h.objects.case.css({width:"",height:"",top:"",left:"","margin-top":"","margin-left":""}),h.objects.contentInner.removeAttr("style").css("opacity",t),h.objects.contentInner.children().removeAttr("style")},cleanup:function(){h._cleanupDimensions(),h.objects.loading.hide(),h.objects.overlay.hide(),h.objects.case.hide(),h.objects.prev.hide(),h.objects.next.hide(),h.objects.play.hide(),h.objects.pause.hide(),h.objects.case.removeAttr(h._prefixAttributeName("type")),h.objects.nav.removeAttr(h._prefixAttributeName("ispartofsequence")),h.objects.contentInner.empty().hide(),h.objects.info.children().empty(),h.cache.originalObject&&h._restoreObject(),h._callHooks(h.settings.onCleanup),h.cache={}},_matchMedia:function(){return window.matchMedia||window.msMatchMedia},_devicePixelRatio:function(){return window.devicePixelRatio||1},_isPublicMethod:function(t){return"function"==typeof h[t]&&"_"!==t.charAt(0)},_export:function(){window.lightcase={},a.each(h,function(t){h._isPublicMethod(t)&&(lightcase[t]=h[t])})}};h._export(),a.fn.lightcase=function(t){return h._isPublicMethod(t)?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void a.error("Method "+t+" does not exist on jQuery.lightcase"):h.init.apply(this,arguments)}}(jQuery);