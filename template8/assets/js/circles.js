$(function(){$("#progress").circliful(),$("#progress1").circliful(),$("#progress2").circliful(),$("#progress3").circliful(),$("#progress4").circliful()}),function(C){C.fn.circliful=function($,t){var v=C.extend({startdegree:0,fgcolor:"#556b2f",bgcolor:"#eee",fill:!1,width:5,dimension:200,fontsize:15,percent:50,animationstep:1,iconsize:"20px",iconcolor:"#999",border:"default",complete:null,bordersize:5},$);return this.each(function(){var a,e,n,t=["fgcolor","bgcolor","fill","width","dimension","fontsize","animationstep","endPercent","icon","iconcolor","iconsize","border","startdegree","bordersize"],l={},o="",s=0,r=C(this),c=!1,d=(r.addClass("circliful"),n=r,C.each(t,function(t,i){null!=n.data(i)?l[i]=n.data(i):l[i]=C(v).attr(i),"fill"==i&&null!=n.data("fill")&&(c=!0)}),null!=r.data("text")&&(a=r.data("text"),null!=r.data("icon")&&(o=C("<i></i>").addClass("fa "+C(this).data("icon")).css({color:l.iconcolor,"font-size":l.iconsize})),null!=r.data("type")&&"half"==(i=C(this).data("type"))?M(r,"circle-text-half",l.dimension/1.45):M(r,"circle-text",l.dimension)),null!=C(this).data("total")&&null!=C(this).data("part")?(t=C(this).data("total")/100,percent=(C(this).data("part")/t/100).toFixed(3),s=(C(this).data("part")/t).toFixed(3)):null!=C(this).data("percent")?(percent=C(this).data("percent")/100,s=C(this).data("percent")):percent=v.percent/100,null!=C(this).data("info")&&(e=C(this).data("info"),null!=C(this).data("type")?(i=C(this).data("type"),I(r,"half"==i?.9:1.25)):I(r,1.25)),C(this).width(l.dimension+"px"),C("<canvas></canvas>").attr({width:l.dimension,height:l.dimension}).appendTo(C(this)).get(0)),h=d.getContext("2d"),p=(C(d).parent(),d.width/2),f=d.height/2,u=(l.percent,Math.PI,d.width/2.5),g=2.3*Math.PI,m=0,x=0===l.animationstep?s:0,b=Math.max(l.animationstep,0),z=2*Math.PI,y=Math.PI/2,i="",P=!0,w=l.startdegree/180*Math.PI;function M(t,i,e){C("<span></span>").appendTo(t).addClass(i).text(a).prepend(o).css({"line-height":e+"px","font-size":l.fontsize+"px"})}function I(t,i){C("<span></span>").appendTo(t).addClass("circle-info-half").css("line-height",l.dimension*i+"px").text(e)}null!=C(this).data("type")&&"half"==(i=C(this).data("type"))&&(g=2*Math.PI,m=3.13,y=(z=Math.PI)/.996),function t(i){h.clearRect(0,0,d.width,d.height),h.beginPath(),h.arc(p,f,u,m,g,!1),h.lineWidth=l.bordersize+1,h.strokeStyle=l.bgcolor,h.stroke(),c&&(h.fillStyle=l.fill,h.fill()),h.beginPath(),h.arc(p,f,u,-y+w,z*i-y+w,!1),"outline"==l.border?h.lineWidth=l.width+13:"inline"==l.border&&(h.lineWidth=l.width-13),h.strokeStyle=l.fgcolor,h.stroke(),x<s&&(x+=b,requestAnimationFrame(function(){t(Math.min(x,s)/100)},r)),x==s&&P&&void 0!==$&&C.isFunction($.complete)&&($.complete(),P=!1)}(x/100)})}}(jQuery);